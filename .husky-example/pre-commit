#!/bin/sh
# Exemplo de pre-commit hook para validaÃ§Ã£o automÃ¡tica
# 
# Para usar este hook:
# 1. Instale husky: npm install --save-dev husky
# 2. Inicialize husky: npx husky install
# 3. Copie este arquivo: cp .husky-example/pre-commit .husky/pre-commit
# 4. Torne executÃ¡vel: chmod +x .husky/pre-commit

echo "ğŸ” Executando validaÃ§Ãµes antes do commit..."

# Type check
echo "ğŸ“ Verificando tipos TypeScript..."
npm run type-check
if [ $? -ne 0 ]; then
  echo "âŒ Type check falhou. Corrija os erros antes de commitar."
  exit 1
fi

# Lint
echo "ğŸ”§ Executando ESLint..."
npm run lint
if [ $? -ne 0 ]; then
  echo "âŒ ESLint encontrou problemas. Execute 'npm run lint:fix' ou corrija manualmente."
  exit 1
fi

echo "âœ… Todas as validaÃ§Ãµes passaram!"
echo ""
echo "âš ï¸  LEMBRETE: Antes de criar PR, execute:"
echo "   1. npm run validate"
echo "   2. Valide o console do navegador (sem erros crÃ­ticos)"
echo "   3. Execute testes funcionais"
echo ""
exit 0
